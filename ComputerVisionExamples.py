# 8 Point Algorithm

#Matlab code from ETH Lectures (calibrated)

function E = calibrated_eightpoint(p1,p2)

p1 = p1' %3xN vector, each column is [u;v;1]
p2 = p2' %3xN vector, each column is [u;v;1]

Q = [p1(:,1).*p2(:,1), ...
    p1(:,2).*p2(:1),...
    p1(:,3).*p2(:,1)...
    p1(:,1).*p2(:,2)...
    p1(:,2).*p2(:,2)...
    p1(:,3).*p2(:,2)...
    p1(:,1).*p2(:,3)...
    p1(:,2).*p2(:,3)...
    p1(:,3).*p2(:,3)];    
    
[U,S,V] = svd(Q);
Eh = V(:,9);

E = reshape(Eh,3,3)';

